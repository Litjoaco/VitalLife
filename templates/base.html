{% load static %}
<!doctype html>
<html lang="es">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>{% block title %}VitalLife — Tu salud en un solo clic{% endblock %}</title>
    <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">
    <link rel="stylesheet" href="{% static 'css/style.css' %}?v=1.1">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;800&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>
<body class="d-flex flex-column min-vh-100">
    {% block header %}
        <!-- Este bloque será sobreescrito por las plantillas hijas -->
    {% endblock header %}

    <main class="main-content flex-grow-1">
        {% block content %}{% endblock %}
    </main>

    <!-- FOOTER -->
    <footer class="footer">
        <div class="container text-center">
            <span>© <span id="year"></span> VitalLife – Clínica Salud Total</span>
            <span>Hecho con ❤️ para facilitar tu cuidado</span>
        </div>
    </footer>

    <script src="{% static 'js/bootstrap.bundle.min.js' %}"></script>
    <script src="{% static 'js/main.js' %}"></script>

    {% if messages %}
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            {% for message in messages %}
                Swal.fire({
                    title: '{% if message.level == 25 %}Éxito{% elif message.level == 40 %}Error{% elif message.level == 30 %}Advertencia{% else %}{{ message.tags|capfirst }}{% endif %}',
                    text: '{{ message|escapejs }}', // Escapar para evitar problemas con comillas
                    icon: '{% if message.level == 25 %}success{% elif message.level == 40 %}error{% elif message.level == 30 %}warning{% else %}info{% endif %}',
                    confirmButtonText: 'Entendido',
                    customClass: {
                        confirmButton: 'btn btn-primary'
                    },
                    buttonsStyling: false,
                    // Opcional: autoClose para mensajes de éxito
                    {% if message.level == 25 %}timer: 3000, timerProgressBar: true{% endif %}
                });
            {% endfor %}
        });
    </script>
    {% endif %}

</body>
</html>